CIR_run = {
    if = {
		limit = {
			has_idea = SGS_CIR_uprise_idea
		}
		remove_ideas = SGS_CIR_uprise_idea
	}
	#if = {
	#		limit = {
	#		has_idea = SGS_CIR_army_uprise_idea
	#	}
	#	remove_ideas = SGS_CIR_army_uprise_idea
	#}
	if = {
		limit = {
			has_idea = SGS_CIR_and_army_uprise_idea
		}
		remove_ideas = SGS_CIR_and_army_uprise_idea
	}
}

CIR_run_to_other_country = {
	CIR = {
		random_country = {
			limit = {
				capital_scope = {
					is_on_continent = Gensokyo
				}
				not = { tag = SCA }
				not = { tag = CIR }
				not = { tag = SGS }
				not = { tag = SC2 }
				not = { tag = LIL }
				exists = yes
				has_same_government_as_PREV = yes
			}
			CIR = {
				every_unit_leader = {
					limit = {  has_trait = th_character  }
					set_nationality = PREV.PREV
				}
			}

			country_event = { id = sgs.4051 }
			
		}
	}
}

LIL_run_to_other_country = {
	LIL = {
		random_country = {
			limit = {
				capital_scope = {
					is_on_continent = Gensokyo
				}
				not = { tag = SCA }
				not = { tag = CIR }
				not = { tag = SGS }
				not = { tag = SC2 }
				not = { tag = LIL }
				exists = yes
				has_same_government_as_PREV = yes
			}
			LIL = {
				every_unit_leader = {
					limit = {  has_trait = th_character  }
					set_nationality = PREV.PREV
				}
			}
			
		}
	}
}